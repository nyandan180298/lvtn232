"use strict";(self.webpackChunkluanvantotnghiep=self.webpackChunkluanvantotnghiep||[]).push([[303],{1004:function(e,a,t){var n=t(1413),r=t(5987),i=t(376),l=t(2791),o=t(184),s=["value","onChange","options","addonBefore","addonAfter"],c=(0,l.memo)((function(e){var a=e.value,t=e.onChange,c=(e.options,e.addonBefore,e.addonAfter,(0,r.Z)(e,s)),d=(0,l.useCallback)((function(e){t&&t(e.target.value)}),[t]);return(0,o.jsx)(i.Z,(0,n.Z)((0,n.Z)({},c),{},{type:"text",value:a,onChange:d}))}));a.Z=c},3272:function(e,a,t){t.d(a,{Z:function(){return v}});var n=t(2791),r=t(9439),i=t(184),l=function(e){var a=e.currentPage,t=e.arrowState,r=e.onPaginate,l=(0,n.useCallback)((function(){if(t!==s.UNAVAILABLE){var e=a&&a-1;e&&r&&r(e)}}),[t,r,a]);return(0,i.jsx)("div",{className:"arrow"+t,onClick:l,children:(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10 13L5 8L10 3",strokeLinejoin:"round"})})})},o=function(e){var a=e.currentPage,t=e.arrowState,r=e.onPaginate,l=(0,n.useCallback)((function(){if(t!==s.UNAVAILABLE){var e=a&&a+1;e&&r&&r(e)}}),[t,r,a]);return(0,i.jsx)("div",{className:"arrow"+t,onClick:l,children:(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M6 13L11 8L6 3",strokeLinejoin:"round"})})})},s={UNAVAILABLE:"Unavailable",AVAILABLE:"Available"},c=new RegExp("^[1-9][0-9]*$"),d=new RegExp("^[0-9]*$"),u=(0,n.memo)((function(e){var a=e.currentPage,t=e.totalPage,u=e.onPaginate,h=(0,n.useState)(""),v=(0,r.Z)(h,2),g=v[0],f=v[1],m=(0,n.useState)(s.UNAVAILABLE),p=(0,r.Z)(m,2),x=p[0],j=p[1],w=(0,n.useState)(s.UNAVAILABLE),k=(0,r.Z)(w,2),N=k[0],Z=k[1];(0,n.useEffect)((function(){"1"===(null===a||void 0===a?void 0:a.toString())||"0"===(null===a||void 0===a?void 0:a.toString())?j(s.UNAVAILABLE):j(s.AVAILABLE),a===t&&Z(s.UNAVAILABLE),a&&t&&a<t&&Z(s.AVAILABLE),a&&f(null===a||void 0===a?void 0:a.toString())}),[a,t]);var A=(0,n.useCallback)((function(e){var a=e.key,n=g.trim();"Enter"===a&&n.length&&(e.preventDefault(),t&&t<parseInt(g)?u&&u(t):u&&u(parseInt(g)),f(""))}),[g,t,u]),y=(0,n.useCallback)((function(e){var a=e.target.value;!g&&c.test(a)&&f(a),g&&d.test(a)&&f(a)}),[g]);return(0,i.jsxs)("div",{className:"page-controller",children:[(0,i.jsx)("input",{value:g,type:"text",className:"pagination-input",onKeyDown:A,onChange:y,placeholder:null===a||void 0===a?void 0:a.toString()}),(0,i.jsxs)("div",{children:[" / ",t," trang "]}),(0,i.jsx)(l,{currentPage:a,arrowState:x,onPaginate:u}),(0,i.jsx)(o,{currentPage:a,arrowState:N,onPaginate:u})]})})),h=(0,n.memo)((function(e){var a=e.title,t=e.totalRow,r=e.pageSize,l=e.currentPage,o=e.totalPage,s=(0,n.useMemo)((function(){return t?l&&r&&(l-1)*r+1:0}),[l,r,t]),c=(0,n.useMemo)((function(){return l&&r&&o&&(l===o?t:l*r)}),[l,r,o,t]);return(0,i.jsxs)("div",{className:"record-displayer",children:[(0,i.jsx)("span",{className:"record-displayer-title",children:a&&a+": "}),(0,i.jsxs)(i.Fragment,{children:[s," - ",c," / ",t]})]})})),v=(0,n.memo)((function(e){var a=e.title,t=e.pageSize,n=e.currentPage,r=e.totalPage,l=e.totalRow,o=e.onPaginate;return(0,i.jsxs)("div",{className:"pagination-container",children:[(0,i.jsx)(h,{title:a,totalRow:l,pageSize:t,currentPage:n,totalPage:r}),(0,i.jsx)("div",{className:"pagination-space"}),(0,i.jsx)(u,{currentPage:n,totalPage:r,onPaginate:o})]})}))},2275:function(e,a,t){var n=t(2791),r=t(9661),i=t(184),l=(0,n.memo)((function(e){var a=e.columns,t=e.data,n=e.rowKey;return t?(0,i.jsx)(r.Z,{columns:a,dataSource:t,rowKey:n,pagination:!1}):(0,i.jsx)(r.Z,{columns:a})}));a.Z=l},5681:function(e,a,t){var n=t(3144),r=t(5671),i=t(136),l=t(7277),o=t(8397),s="/customer",c=function(e){(0,i.Z)(t,e);var a=(0,l.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=a.call.apply(a,[this].concat(i))).create=function(a){var t="".concat(s,"/create");return e.post(t,a)},e.detail=function(a){var t="".concat(s,"/get/").concat(a);return e.get(t)},e.getAll=function(a,t){var n="".concat(s,"/getAll");return e.post(n,a,t)},e.update=function(a){var t="".concat(s,"/update/").concat(a.id);return e.post(t,a)},e}return(0,n.Z)(t)}(o.Z);a.Z=new c},3303:function(e,a,t){t.r(a),t.d(a,{default:function(){return N}});var n=t(4165),r=t(5861),i=t(9439),l=t(2791),o=t(1079),s=t(3272),c=t(6591),d=t(2275),u=t(2641),h=t(9420),v=t(1069),g=t(7689),f=t(184),m=function(e){var a=e.handleCloseModal,t=e.detailModalVisible,n=e.data,r=e.khoid,i=(0,g.s0)();return(0,f.jsxs)(v.Z,{title:"Th\xf4ng tin kh\xe1ch h\xe0ng",className:"detail-modal",open:t,cancelText:"H\u1ee7y",onCancel:a,onOk:a,width:695,centered:!0,children:[(0,f.jsxs)("div",{className:"detail-row",children:[(0,f.jsx)("div",{className:"detail-property bold",children:"T\xean"}),(0,f.jsxs)("div",{className:"detail-value font_italic",children:[" ",n.name]})]}),(0,f.jsxs)("div",{className:"detail-row",children:[(0,f.jsx)("div",{className:"detail-property bold",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,f.jsxs)("div",{className:"detail-value font_italic",children:[" ",n.phoneNum]})]}),(0,f.jsxs)("div",{className:"detail-row",children:[(0,f.jsx)("div",{className:"detail-property bold",children:"S\u1ed1 ti\u1ec1n \u0111\xe3 \u0111\u1eb7t h\xe0ng"}),(0,f.jsxs)("div",{className:"detail-value font_italic",children:[" ",n.total]})]}),(0,f.jsxs)("div",{className:"detail-row",children:[(0,f.jsx)("div",{className:"detail-property bold",children:"C\u1ea5p \u0111\u1ed9 V.I.P"}),(0,f.jsxs)("div",{className:"detail-value font_italic",children:[" ",n.vip]})]}),(0,f.jsxs)("div",{className:"detail-row",children:[(0,f.jsx)("div",{className:"detail-property bold",children:"L\u1ecbch s\u1eed \u0111\u1eb7t h\xe0ng"}),(0,f.jsx)("div",{className:"detail-value font_italic",children:" "})]}),n.ordersHistory&&n.ordersHistory.slice(0,5).map((function(e,a){return(0,f.jsxs)("div",{className:"orders-history-row",children:[(0,f.jsx)("div",{className:"orders-property font_italic",children:"id"}),(0,f.jsxs)("div",{className:"orders-value font_italic",onClick:function(){i("/kho/".concat(r,"/don-hang/?searchid=").concat(e)),window.location.reload()},children:[" ",e]})]},a)}))]})},p=(0,l.memo)(m),x=(0,l.memo)((function(e){var a=e.data,t=e.handleRerender,n=e.khoId,r=e.pageObj,v=e.onPaginate,g=(0,l.useState)(!1),m=(0,i.Z)(g,2),x=m[0],j=m[1],w=(0,l.useState)(""),k=(0,i.Z)(w,2),N=k[0],Z=k[1],A=function(e,a){return(0,f.jsx)(u.ZP,{className:"edit-button",onClick:function(){Z(a),j(!0)},children:(0,f.jsx)(h.Z,{style:{color:"blue"}})})},y=(0,l.useMemo)((function(){return[{title:"",dataIndex:"index",key:"index"},{title:"T\xean kh\xe1ch h\xe0ng",dataIndex:"name",key:"name"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phoneNum",key:"phoneNum"},{title:"S\u1ed1 ti\u1ec1n t\u1ed5ng \u0111\xe3 \u0111\u1eb7t",dataIndex:"total",key:"total"},{title:"C\u1ea5p VIP",dataIndex:"vip",key:"vip"},{title:"",dataIndex:"",key:"action",render:A}]}),[]),P=(0,l.useCallback)((function(){t(),j(!1)}),[t]);return(0,f.jsxs)("div",{className:"chon-kho-layout",children:[(0,f.jsx)("div",{className:"search-add-customer-bar",children:(0,f.jsx)("div",{className:"search-div",children:(0,f.jsx)(o.Z,{})})}),(0,f.jsxs)("div",{className:"customer-big-container",children:[(0,f.jsx)(d.Z,{columns:y,data:a,rowKey:function(e){return e.id}}),x&&(0,f.jsx)(p,{handleCloseModal:P,detailModalVisible:x,data:N,khoid:n})]}),(0,f.jsx)(s.Z,{title:"Kh\xe1ch h\xe0ng",pageSize:c.L8,totalRow:r&&r.total,currentPage:r&&r.page,totalPage:r&&r.totalPage,onPaginate:v})]})})),j=t(1087),w=t(5681),k=(0,l.memo)((function(){var e=(0,g.UO)().id,a=(0,l.useState)(!1),t=(0,i.Z)(a,2),o=t[0],s=t[1],c=(0,j.lr)(),d=(0,i.Z)(c,2),u=d[0],h=d[1],v=(0,l.useState)([]),m=(0,i.Z)(v,2),p=m[0],k=m[1],N=(0,l.useState)({page:0,total:0,totalPage:0}),Z=(0,i.Z)(N,2),A=Z[0],y=Z[1],P=(0,l.useCallback)((function(){s(!o)}),[o]),b=(0,l.useCallback)(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(a,t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:t},e.next=3,w.Z.getAll(a,r);case 3:(i=e.sent).data?(k(i.data.data),y({page:i.data.page,total:i.data.total,totalPage:i.data.totalPage})):k([]);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),[]);(0,l.useEffect)((function(){var a=Object.fromEntries(u.entries());b({khoid:e},a)}),[b,o,e,u]);var C=(0,l.useCallback)((function(e){u.set("page",e),h(u)}),[u,h]);return(0,f.jsx)(x,{handleRerender:P,data:p,khoId:e,onPaginate:C,pageObj:A})}));k.displayName="Customer";var N=k},1079:function(e,a,t){t.d(a,{Z:function(){return d}});var n=t(9439),r=t(1413),i=t(184),l=function(e,a){var t=e.onclick;return(0,i.jsx)("svg",(0,r.Z)((0,r.Z)({width:16,height:16,className:"search-icon",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t},a),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 7.25a6.25 6.25 0 11-12.5 0 6.25 6.25 0 0112.5 0zm-1.49 5.468a7.25 7.25 0 11.707-.707l3.137 3.135a.5.5 0 01-.708.708l-3.135-3.136z",fill:"#686868"})}))},o=t(1004),s=t(2791),c=t(1087),d=(0,s.memo)((function(e){var a=e.keySearch,t=(0,c.lr)(),r=(0,n.Z)(t,2),d=r[0],u=r[1],h=(0,s.useState)(""),v=(0,n.Z)(h,2),g=v[0],f=v[1];(0,s.useEffect)((function(){var e=d.get("search");e&&f(e)}),[d]);var m=(0,s.useCallback)((function(e){f(e)}),[]),p=(0,s.useCallback)((function(){if(!g)return d.delete("search"),void u(d);d.delete("searchid"),d.delete("page"),a?d.set(a,g):d.set("search",g),u(d)}),[g,d,u,a]),x=(0,s.useCallback)((function(e){"Enter"===e.key&&p()}),[p]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{value:g,onChange:m,className:"search-input",placeholder:"T\xecm ki\u1ebfm",onKeyDown:x,prefix:(0,i.jsx)("div",{className:"search-button",onClick:p,children:(0,i.jsx)(l,{})})})})}))},9420:function(e,a,t){t.d(a,{Z:function(){return s}});var n=t(7462),r=t(2791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L863.9 169a7.9 7.9 0 00-8.9-8.9zM416.6 562.3a8.03 8.03 0 00-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"}}]},name:"arrows-alt",theme:"outlined"},l=t(4291),o=function(e,a){return r.createElement(l.Z,(0,n.Z)({},e,{ref:a,icon:i}))};var s=r.forwardRef(o)}}]);
//# sourceMappingURL=303.c36b21c1.chunk.js.map